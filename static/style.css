/* =========================================================
   VASKETIDER — STYLE.CSS (CLEAN / CONFLICT-FREE)
   ========================================================= */

/* ---------- CSS VARIABLES ---------- */
:root{
  --ok:#28a745;
  --ok-darker:#218838;
  --service:rgba(255,193,7,0.9);
  --booked:rgba(220,53,69,0.95);
  --focus:0 0 0 2px #fff,0 0 0 4px rgba(106,160,255,.95);

  --slot-h:40px;

  --frost-bg: rgba(255,255,255,0.28);
  --frost-brd: rgba(255,255,255,0.45);
  --frost-txt: #0e1013;

  --glass-brd: rgba(255,255,255,0.35);
  --glass-bg: rgba(255,255,255,0.10);
  --glass-bg-hover: rgba(255,255,255,0.18);

  /* legacy tokens til social glasrammer */
  --frost: rgba(255,255,255,0.12);
  --frost-border: rgba(255,255,255,0.35);
  --frost-highlight: rgba(255,255,255,0.22);

  --accent-light:#9fc5ff;
  --accent:#6aa0ff;
  --danger:#d93025;
  --page-max:1100px;
  --social-size:28px;

  /* SLOT SIZE SYSTEM (konfig) */
  --size-ledig-h:        40px;
  --size-ledig-fs:       14px;
  --size-ledig-pad-x:    10px;
  --size-ledig-radius:    8px;

  --size-service-h:      40px;
  --size-service-fs:     14px;
  --size-service-pad-x:  10px;
  --size-service-radius:  8px;

  --size-optaget-h:      40px;
  --size-optaget-fs:     14px;
  --size-optaget-pad-x:  10px;
  --size-optaget-radius:  8px;

  /* Half-slot faktor (tidlig/sen) — 1.0 = samme højde som fuld */
  --half-factor:         0.85;
}

/* ---------- GLOBALS ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; padding:0; font-family:sans-serif; color:#fff; }
body{
  background:url('/static/Bg.jpg') no-repeat center center fixed;
  background-size:cover; background-color:#0b0f14;
  min-height:100vh; overflow-x:hidden;
}

button{ font:inherit; }
a{ color:inherit; }

/* ---------- TOPPANEL (fastlåst) ---------- */
.toppanel{
  position:fixed; top:0; left:0; right:0;
  display:flex; align-items:center; gap:10px;
  padding:10px 16px;
  overflow:visible;
  background:var(--frost-bg);
  border-bottom:1px solid var(--frost-brd);
  color:var(--frost-txt);
  backdrop-filter: blur(8px) saturate(140%);
  -webkit-backdrop-filter: blur(8px) saturate(140%);
  z-index:5001;
  min-height:56px;
}
.toppanel .brand{ margin-right:12px; order:0; }
.toppanel .brand a{ text-decoration:none; }

.status{ margin-left:12px; background:rgba(255,255,255,0.18); color:#111; padding:8px 10px; border-radius:10px; display:flex; flex-wrap:wrap; gap:6px; align-content:center; font-size:14px; border:1px solid rgba(0,0,0,0.15); }
.status-label{font-weight:bold;}
.status-eta{ color:#b36b00; font-weight:700; }
.status-sep{ opacity:.6; padding:0 6px; }

.status.status-center{
  position:absolute; left:50%; transform:translateX(-50%);
  background:rgba(5,5,5,0.95); color:#fff;
  pointer-events:none; /* klik går igennem til uge-skifter */
  z-index:5000;
}

/* ---- UGEVÆLGER I HØJRE SIDE AF TOPPANELET ---- */
.top-right{
  margin-left:auto;
  display:flex;
  align-items:center;
  justify-content:flex-end;
  gap:10px;
  position:relative;
  z-index:6001;
}

.week-switch{
  display:flex;
  align-items:center;
  gap:10px;
  margin:0;
}
.week-switch .week-label{ font-weight:700; }
.week-switch button{ pointer-events:auto; z-index:6002; }
.toppanel-select{
  height:38px; padding:6px 12px; border-radius:10px;
  border:1px solid rgba(255,255,255,0.35);
  background:rgba(255,255,255,0.10); color:#fff;
}

/* ---------- KNAPPER (glas) ---------- */
.toppanel-knap,.button,.btn,.glass-btn{
  appearance:none; border:1px solid var(--glass-brd);
  background:var(--glass-bg); color:#fff;
  padding:9px 14px; border-radius:12px; cursor:pointer;
  transition: transform .15s ease, background .15s ease, color .15s ease, border-color .15s ease;
  text-decoration:none; display:inline-flex; align-items:center; justify-content:center;
  font-weight:600;
}
.toppanel-knap:hover,.button:hover,.btn:hover,.glass-btn:hover{
  background:var(--glass-bg-hover); color:#fff; border-color:var(--accent-light);
  box-shadow:0 0 0 2px var(--accent); transform:translateY(-1px);
}
.toppanel-knap:active,.button:active,.btn:active,.glass-btn:active{
  transform: translateY(0) scale(0.98);
}

/* ---------- WRAPPER ---------- */
.wrapper{ width:100%; max-width:var(--page-max); margin:90px auto 24px; padding:22px; background:rgba(255,255,255,0.05); border-radius:12px; }
.main{ width:100%; max-width: calc(var(--page-max) - 60px); margin:0 auto; }

/* ---------- INPUTS ---------- */
input,select,textarea{
  margin:5px 8px 5px 0; padding:12px 14px;
  border-radius:14px; border:1px solid rgba(255,255,255,0.35);
  background: rgba(255,255,255,0.12); color:#fff;
}
input::placeholder,textarea::placeholder{ color: rgba(255,255,255,0.8); }
input:focus,select:focus,textarea:focus{
  outline:none; background: rgba(255,255,255,0.85); color:#111;
  box-shadow: 0 0 8px rgba(255,255,255,0.6);
}
input:focus::placeholder,textarea:focus::placeholder{ color: rgba(0,0,0,0.45); }
label,.remember-line,.muted{ color:#fff !important; }

/* ---------- LOGIN / AUTH ---------- */
.auth-wrap{ min-height: calc(100vh - 70px); display:flex; align-items:center; justify-content:center; padding:40px 16px; }
.auth-box{
  background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.22);
  border-radius: 22px; padding: 36px 40px; width:100%; max-width:420px;
  backdrop-filter: blur(18px) saturate(120%) contrast(115%);
  -webkit-backdrop-filter: blur(18px) saturate(120%) contrast(115%);
  box-shadow: 0 8px 30px rgba(0,0,0,0.40); color:#fff;
}
.auth-box h2{ text-align:center; margin:0 0 18px; font-size:1.6rem; letter-spacing:.5px; }
.auth-form{ display:flex; flex-direction:column; gap:12px; }
.alert-ok { margin: 80px auto -70px; max-width: 1180px; background: rgba(0,200,0,.15); border:1px solid rgba(0,200,0,.35); color:#c8ffd0; padding:8px 12px; border-radius:8px; }
.alert-err { margin: 80px auto -70px; max-width: 1180px; background: rgba(200,0,0,.15); border:1px solid rgba(200,0,0,.35); color:#ffd0d0; padding:8px 12px; border-radius:8px; }

.remember-line{ display:flex; justify-content:center; align-items:center; gap:10px; width:100%; margin:10px 0; text-align:center; }
.remember-text{ display:inline-block; }

.switch{ position:relative; display:inline-block; width:46px; height:26px; }
.switch input{ display:none; }
.slider{ position:absolute; inset:0; cursor:pointer; background:rgba(255,255,255,0.4); transition:.3s; border-radius:26px; }
.slider:before{ content:""; position:absolute; height:20px; width:20px; left:3px; top:3px; background:#fff; border-radius:50%; transition:.3s; }
input:checked + .slider{ background:var(--ok); }
input:checked + .slider:before{ transform:translateX(20px); }

.glass-btn{
  display:inline-flex; justify-content:center; align-items:center;
  background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.4);
  border-radius:12px; color:#fff; padding:10px 20px; font-weight:600; transition: all .25s ease; width:100%; cursor:pointer;
}
.glass-btn:hover{ color:var(--danger); background:rgba(255,255,255,0.25); border-color:rgba(255,255,255,0.55); }
.glass-btn:active{ transform:scale(.98); }

/* ---------- CALENDAR ---------- */
.calendar{
  display:grid;
  grid-template-columns:140px repeat(7, 1fr);
  grid-auto-rows:var(--slot-h);
  gap:40px;
  align-items:stretch; justify-items:stretch;
}
.calendar > div{ display:flex; align-items:center; justify-content:center; min-height: var(--slot-h); padding:0; margin:0; position:relative; }
.calendar > div:nth-child(-n+8){
  display:flex; flex-direction:column; align-items:center; justify-content:center;
  gap:3px; padding:8px 6px; background:rgba(0,0,0,0.28);
  border-radius:10px; font-weight:600; line-height:1.2;
}
.calendar > div:nth-child(-n+8) span:first-child{ font-size:15px; }
.calendar > div:nth-child(-n+8) span:last-child{ font-size:13px; opacity:.9; }
.calendar > div:nth-child(8n+1){
  display:flex; align-items:center; justify-content:flex-end; font-weight:700; font-size:16px; padding-right:12px; height:var(--slot-h);
}

/* cell indhold ikke tvinges til 100% */
.calendar > div > *{ width:auto; height:auto; margin:0; box-sizing:border-box; }
.calendar > div > div{ display:flex; flex-wrap:wrap; gap:12px; justify-content:center; }
.calendar > div:has(.split-details[open]){ z-index:9999; }

/* slots */
.calendar .slot-btn,
.calendar .split-details > summary{
  --slot-h:       40px; --slot-fs:14px; --slot-pad-x:10px; --slot-radius:8px;
  display:flex; align-items:center; justify-content:center;
  width: 90%; height: var(--slot-h); padding: 0 var(--slot-pad-x);
  font-size: var(--slot-fs); border-radius: var(--slot-radius);
  line-height: 1.1; box-sizing: border-box; text-align: center; font-weight: 600;
  margin:0;
}

.split-pair{ display:flex; gap:6px; align-items:center; justify-content:center; width:100%; min-height: var(--slot-h); }
.split-pair .slot-btn{ flex:1 1 0; height: calc(var(--slot-h) * var(--half-factor)); font-size: var(--slot-fs); }
.split-pair:has(> :only-child) .slot-btn{ height: var(--slot-h); }

.calendar .slot-btn:hover,
.calendar .split-details > summary:hover{ transform:translateY(-1px); box-shadow:0 5px 12px rgba(0,0,0,0.35); }
.calendar .slot-btn:focus-visible,
.calendar .split-details > summary:focus-visible{ outline:none; box-shadow:var(--focus); }

.calendar .split-details{ position:relative; display:inline-block; overflow:visible; }
.calendar .split-details[open]{ z-index:10000; }
.calendar .split-details > summary::-webkit-details-marker{ display:none; }
.calendar .split-panel{
  position:absolute; top:calc(100% + 8px); left:50%; transform:translateX(-50%);
  min-width:240px; background:#1f1f1f; color:#fff; border:1px solid #444;
  border-radius:10px; padding:10px; box-shadow:0 14px 28px rgba(0,0,0,0.45);
}
.calendar .split-details:not([open]) .split-panel{ display:none; }
.calendar .menu-btn{
  width:100%; padding:12px 14px; border-radius:8px;
  border:1px solid #666; background:#2b2b2b; color:#fff;
  cursor:pointer; font-size:15px; margin:5px 0; transition:background .2s ease;
}
.calendar .menu-btn:hover{ background:#343434; }

/* STATUSFARVER */
.calendar .slot-btn.service,
.calendar .split-details.service > summary{ background:var(--service) !important; color:#000 !important; border:1px solid rgba(0,0,0,0.2) !important; }
.calendar .slot-btn.optaget,
.calendar .optaget-knap,
.calendar .split-details.booked > summary{ background:var(--booked) !important; color:#fff; border:1px solid rgba(255,255,255,0.25); }
.calendar :is(.slot-btn.ledig,.ledig-knap,.split-details.ledig > summary,.split-details[data-state="free"] > summary,.slot-btn[data-state="free"],form[action$="/book"] .slot-btn){
  background:var(--ok) !important; color:#fff !important; border:1px solid #1e7e34 !important;
}
.calendar :is(.slot-btn.ledig:hover,.split-details.ledig > summary:hover,.split-details:not(.service):not(.booked) > summary:hover,form[action$="/book"] .slot-btn:hover){
  background:var(--ok-darker) !important;
}

/* ---------- LISTS / FOOTER ---------- */
footer{ position:fixed; bottom:10px; left:0; right:0; height:50px; display:flex; align-items:center; justify-content:center; color:#fff; font-size:12px; z-index:1; background:transparent; }
.footer{ display:flex; align-items:center; justify-content:center; gap:12px; }
.footer-left{ position:absolute; left:22px; bottom:14px; color:#fff; font-size:12px; }

.socials{ list-style:none; display:flex; gap:14px; padding:0; margin:0; align-items:center; justify-content:center; }
.icon-wrap{ width:var(--social-size); height:var(--social-size); display:inline-flex; align-items:center; justify-content:center; border-radius:14px; background:linear-gradient(135deg, var(--frost) 0%, rgba(255,255,255,0.06) 100%); border:1px solid var(--frost-border); box-shadow:0 4px 24px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.25); backdrop-filter: blur(8px) saturate(140%); -webkit-backdrop-filter: blur(8px) saturate(140%); transition: transform .18s ease, background .18s ease, box-shadow .18s ease; }
.icon-wrap img{ width:14px; height:14px; filter: brightness(0) invert(1) drop-shadow(0 1px 2px rgba(0,0,0,0.35)); pointer-events:none; }
.socials a{ display:inline-flex; text-decoration:none; outline:none; }
.socials a:hover .icon-wrap{ transform: translateY(-2px); background: linear-gradient(135deg, var(--frost-highlight) 0%, rgba(255,255,255,0.10) 100%); box-shadow: 0 8px 28px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.35); }

/* =========================================================
   HAMBURGER — SINGLE SOURCE OF TRUTH (INDEX & LOGIN)
   ========================================================= */

/* Sluk pseudo-linjer overalt */
.hamburger::before,
.hamburger::after { content:none !important; }

/* Grund-knap (reverter tidligere all:unset regler) */
button.hamburger{
  all: revert !important;
  position:relative !important;
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  width:44px !important;
  height:44px !important;
  padding:0 !important;
  background:transparent !important;
  border:none !important;
  border-radius:10px !important;
  cursor:pointer !important;
  line-height:0 !important; /* forhindrer arvet line-height i at skubbe bars */
}

/* Fælles bars-udseende (baseline = index) */
.hamburger .hamburger-bar{
  position:absolute !important;
  left:50% !important;
  transform:translateX(-50%) !important;
  transform-origin:center !important;
  width:22px !important;
  height:2px !important;           /* index-tykkelse */
  background:#fff !important;      /* index-farve */
  border-radius:2px !important;
  box-shadow:none !important;
  margin:0 !important;
  transition:transform .30s ease, opacity .30s ease !important;
}

/* INDEX — placering + X */
.toppanel:not(.toppanel--login) .hamburger .hamburger-bar:nth-child(1){ top:16px !important; }
.toppanel:not(.toppanel--login) .hamburger .hamburger-bar:nth-child(2){ top:22px !important; }
.toppanel:not(.toppanel--login) .hamburger .hamburger-bar:nth-child(3){ top:28px !important; }

.toppanel:not(.toppanel--login) .hamburger.active .hamburger-bar:nth-child(1){
  transform:translateX(-50%) translateY(6px) rotate(45deg) !important;
}
.toppanel:not(.toppanel--login) .hamburger.active .hamburger-bar:nth-child(2){ opacity:0 !important; }
.toppanel:not(.toppanel--login) .hamburger.active .hamburger-bar:nth-child(3){
  transform:translateX(-50%) translateY(-6px) rotate(-45deg) !important;
}

/* LOGIN — tykkere og sorte bars + egen geometri (symmetri) */
.toppanel--login .hamburger .hamburger-bar{
  height:3px !important;
  background:#000 !important;
  border-radius:3px !important;
}
.toppanel--login .hamburger .hamburger-bar:nth-child(1){ top:14px !important; }
.toppanel--login .hamburger .hamburger-bar:nth-child(2){ top:22px !important; }
.toppanel--login .hamburger .hamburger-bar:nth-child(3){ top:30px !important; }

.toppanel--login .hamburger.active .hamburger-bar:nth-child(1){
  transform:translateX(-50%) translateY(8px) rotate(45deg) !important;
}
.toppanel--login .hamburger.active .hamburger-bar:nth-child(2){ opacity:0 !important; }
.toppanel--login .hamburger.active .hamburger-bar:nth-child(3){
  transform:translateX(-50%) translateY(-8px) rotate(-45deg) !important;
}

/* MENUS (kompakte dropdowns, ikke “lange”) */
.topmenu,
.login-menu{
  position:absolute !important;
  right:12px !important;
  top:56px !important; /* index default */
  display:none;
  flex-direction:column;
  gap:8px;
  min-width:220px;
  padding:10px;
  background:rgba(255,255,255,.95);
  color:#111;
  border-radius:10px;
  border:1px solid rgba(0,0,0,.12);
  box-shadow:0 10px 30px rgba(0,0,0,0.25);
  z-index:9000 !important;
}
.toppanel--login .login-menu{ top:68px !important; }

.topmenu.show, .login-menu.show{ display:flex !important; }
.topmenu .toppanel-knap, .login-menu .toppanel-knap{
  width:100%; justify-content:center;
  background:rgba(255,255,255,.7); color:#000;
  border:1px solid rgba(0,0,0,.1); border-radius:12px;
  padding:10px 12px; font-weight:600;
}
/* Venstre side (INDEX): menu starter ved venstre kant af wrapperen/knappen */
.top-left .topmenu{ left: 0 !important; right: auto !important; }

/* Venstre side (LOGIN): menu starter ved højre kant */
.top-left .login-menu{ left: 0 !important; right: auto !important; }

.topmenu .toppanel-knap:hover, .login-menu .toppanel-knap:hover{ background:rgba(255,255,255,.9); }

/* =========================================================
   RESPONSIVE
   ========================================================= */
html{
  font-size: clamp(14px, 1.9vw, 16px);  /* 14–16px afh. af viewport */
}

/* H1/H2/H3 og basistekst skalerer pænt */
h1{ font-size: clamp(1.6rem, 3.8vw, 2.2rem); }
h2{ font-size: clamp(1.3rem, 3.2vw, 1.8rem); }
h3{ font-size: clamp(1.1rem, 2.8vw, 1.4rem); }
body{ line-height: 1.25; }

/* Knapper og inputs følger også med */
button, input, select, textarea {
  font-size: 1rem;                  /* 1rem = html font-size */
  padding: clamp(8px, 1.2vw, 12px) clamp(10px, 2vw, 14px);
  border-radius: clamp(8px, 1.2vw, 14px);
}

/* Slot-højde følger rodfont (giver “hele siden bliver mindre”) */
:root{
  --slot-h: clamp(36px, 5.2vw, 48px);  /* 36–48px */
}
@media (max-width:768px){
  .calendar{ grid-template-columns:100px repeat(7, minmax(140px,1fr)); gap:20px; overflow-x:auto; -webkit-overflow-scrolling:touch; }
  .wrapper{ margin:86px 8px 18px; padding:16px; }
  .auth-wrap{ padding: 84px 12px 24px; }  /* fri af fast topbar */
  .login-menu{ right:12px; }
    .auth-box{
    max-width: min(92vw, 420px);
    padding: clamp(18px, 3.5vw, 28px) clamp(16px, 4vw, 24px);
    border-radius: clamp(14px, 2.5vw, 22px);
  }
  .auth-box h2{ margin-bottom: clamp(10px, 2.5vw, 16px); }
  .auth-form{ gap: clamp(8px, 2.5vw, 12px); }
  .remember-line{ gap: clamp(6px, 2vw, 10px); }
  .glass-btn{ width: 100%; }
  .switch{ width: clamp(38px, 7vw, 46px); height: clamp(22px, 4vw, 26px); }
  .slider:before{ width: clamp(16px, 3.4vw, 20px); height: clamp(16px, 3.4vw, 20px); }

}
@media (max-width: 768px){
  .toppanel{ padding: max(10px, env(safe-area-inset-top, 0)) 12px; }
  .status.status-center{
    font-size: 0.9rem;
    padding: 4px 8px;
    border-radius: 8px;
    max-width: 70vw;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  }
  .week-switch{
    position:absolute; right:10px; top:50%; transform:translateY(-50%);
    display:flex; gap:8px; align-items:center;
  }
  .week-switch button{ padding: 4px 8px; font-size: .9rem; border-radius: 8px; }
  .week-switch .week-label{ font-size:.9rem; font-weight:700; }
  .wrapper{ margin-top: calc(70px + env(safe-area-inset-top, 0)); }
}
@media (max-width: 768px){
  .calendar{
    grid-template-columns: 80px repeat(7, minmax(120px,1fr));
    column-gap: 14px;   /* vandret mellemrum */
    row-gap: 10px;      /* LODRET mellemrum mellem rækker (din efterspørgsel) */
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  .calendar .slot-btn,
  .calendar .split-details > summary{
    font-size: .95rem; /* følger globalt men en anelse ned på mobil */
  }
}
@media (max-width:420px){
  .auth-box { max-width: 360px; padding: 28px 24px; }
  .week-switch .week-label{ display:none; } /* vis kun ◀ ▶ */
  .calendar{
    grid-template-columns: 74px repeat(7, 150px);
    column-gap: 12px; row-gap: 8px;
  }
  :root{ --slot-h: clamp(34px, 6vw, 42px); }
}
